# ğŸ’¾ ë°ì´í„°ë² ì´ìŠ¤ ë³´ì¡´ ê°€ì´ë“œ

## âœ… ì•ˆì „í•œ ì‘ì—… (ë°ì´í„° ìœ ì§€ë¨)

### 1. ì¼ë°˜ ë¹Œë“œ ë° ì¬ì‹œì‘
```bash
# âœ… ë°ì´í„° ìœ ì§€ë¨
docker-compose -f docker-compose.prod.yml build
docker-compose -f docker-compose.prod.yml up -d
```

### 2. ì»¨í…Œì´ë„ˆë§Œ ì¬ì‹œì‘
```bash
# âœ… ë°ì´í„° ìœ ì§€ë¨
docker-compose -f docker-compose.prod.yml restart
```

### 3. ì»¨í…Œì´ë„ˆ ì¤‘ì§€ í›„ ì¬ì‹œì‘
```bash
# âœ… ë°ì´í„° ìœ ì§€ë¨
docker-compose -f docker-compose.prod.yml down
docker-compose -f docker-compose.prod.yml up -d
```

## âš ï¸ ì£¼ì˜í•´ì•¼ í•  ì‘ì—… (ë°ì´í„° ì‚­ì œë¨)

### 1. ë³¼ë¥¨ê¹Œì§€ ì‚­ì œ
```bash
# âŒ ë°ì´í„° ì‚­ì œë¨!
docker-compose -f docker-compose.prod.yml down -v
```

### 2. ë³¼ë¥¨ ì§ì ‘ ì‚­ì œ
```bash
# âŒ ë°ì´í„° ì‚­ì œë¨!
docker volume rm workspace_backend_data
```

## ğŸ“‹ í˜„ì¬ ì„¤ì • í™•ì¸

`docker-compose.prod.yml`ì—ì„œ:
```yaml
volumes:
  - backend_data:/app/data  # Docker ë³¼ë¥¨ ì‚¬ìš©
```

ì´ ì„¤ì •ì€ **Docker ë³¼ë¥¨**ì„ ì‚¬ìš©í•˜ë¯€ë¡œ:
- âœ… ì»¨í…Œì´ë„ˆë¥¼ ì‚­ì œí•´ë„ ë°ì´í„° ìœ ì§€
- âœ… ì´ë¯¸ì§€ë¥¼ ì¬ë¹Œë“œí•´ë„ ë°ì´í„° ìœ ì§€
- âœ… ì»¨í…Œì´ë„ˆë¥¼ ì¬ì‹œì‘í•´ë„ ë°ì´í„° ìœ ì§€

## ğŸ” ë°ì´í„° ìœ„ì¹˜ í™•ì¸

```bash
# ë³¼ë¥¨ ëª©ë¡ í™•ì¸
docker volume ls

# ë³¼ë¥¨ ìƒì„¸ ì •ë³´
docker volume inspect workspace_backend_data
```

## ğŸ’¾ ë°±ì—… ë°©ë²•

### ìˆ˜ë™ ë°±ì—…
```bash
# ë°±ì—… íŒŒì¼ ìƒì„±
docker run --rm -v workspace_backend_data:/data -v $(pwd):/backup alpine tar czf /backup/db-backup-$(date +%Y%m%d).tar.gz /data

# ë˜ëŠ” ì§ì ‘ ë³µì‚¬
docker cp construction-backend:/app/data/test.db ./backup/test.db.$(date +%Y%m%d_%H%M%S).db
```

### ë³µì› ë°©ë²•
```bash
# ë°±ì—… íŒŒì¼ì—ì„œ ë³µì›
docker run --rm -v workspace_backend_data:/data -v $(pwd):/backup alpine tar xzf /backup/db-backup-YYYYMMDD.tar.gz -C /

# ë˜ëŠ” ì§ì ‘ ë³µì‚¬
docker cp ./backup/test.db construction-backend:/app/data/test.db
```

## ğŸ›¡ï¸ ì•ˆì „í•œ ë¹Œë“œ ì ˆì°¨

```bash
# 1. í˜„ì¬ ìƒíƒœ í™•ì¸
docker-compose -f docker-compose.prod.yml ps

# 2. ì•ˆì „í•˜ê²Œ ì¬ë¹Œë“œ (ë°ì´í„° ìœ ì§€)
docker-compose -f docker-compose.prod.yml build
docker-compose -f docker-compose.prod.yml up -d

# 3. í™•ì¸
docker-compose -f docker-compose.prod.yml logs backend
```

## ğŸ“ ìš”ì•½

| ì‘ì—… | ëª…ë ¹ì–´ | ë°ì´í„° ìœ ì§€ |
|------|--------|------------|
| **ì¬ë¹Œë“œ** | `docker-compose build` | âœ… ìœ ì§€ |
| **ì¬ì‹œì‘** | `docker-compose restart` | âœ… ìœ ì§€ |
| **ì¤‘ì§€ í›„ ì‹œì‘** | `docker-compose down` â†’ `up -d` | âœ… ìœ ì§€ |
| **ë³¼ë¥¨ ì‚­ì œ** | `docker-compose down -v` | âŒ ì‚­ì œ |
| **ë³¼ë¥¨ ì§ì ‘ ì‚­ì œ** | `docker volume rm` | âŒ ì‚­ì œ |

## ğŸ’¡ íŒ

1. **ì •ê¸° ë°±ì—…**: ì¤‘ìš”í•œ ë°ì´í„°ëŠ” ì •ê¸°ì ìœ¼ë¡œ ë°±ì—…í•˜ì„¸ìš”
2. **ë³¼ë¥¨ í™•ì¸**: `-v` ì˜µì…˜ ì—†ì´ `down` ëª…ë ¹ì–´ ì‚¬ìš©
3. **ë°±ì—… í›„ ì‘ì—…**: í° ë³€ê²½ ì „ì—ëŠ” í•­ìƒ ë°±ì—…

