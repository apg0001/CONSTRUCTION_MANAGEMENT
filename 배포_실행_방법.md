# ğŸš€ AWS ë°°í¬ ì‹¤í–‰ ë°©ë²• (í•œêµ­ì–´)

## ğŸ“‹ ì¤€ë¹„ì‚¬í•­

1. AWS ê³„ì •
2. EC2 ì¸ìŠ¤í„´ìŠ¤ (Ubuntu 22.04 LTS)
3. SSH í‚¤ í˜ì–´

## âš¡ ë¹ ë¥¸ ì‹¤í–‰ (5ë¶„)

### 1. EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„±

AWS ì½˜ì†”ì—ì„œ:
- **AMI**: Ubuntu Server 22.04 LTS
- **ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…**: t3.small (ìµœì†Œ t2.micro)
- **ë³´ì•ˆ ê·¸ë£¹**: 
  - HTTP (80) - ëª¨ë“  ìœ„ì¹˜
  - Custom TCP (8000) - ëª¨ë“  ìœ„ì¹˜
  - SSH (22) - ë‚´ IP

### 2. EC2 ì ‘ì†

```bash
# Windows
ssh -i your-key.pem ubuntu@your-ec2-ip

# Linux/Mac
chmod 400 your-key.pem
ssh -i your-key.pem ubuntu@your-ec2-ip
```

### 3. Docker ì„¤ì¹˜

```bash
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
sudo usermod -aG docker $USER
newgrp docker
```

### 4. í”„ë¡œì íŠ¸ ì—…ë¡œë“œ

**ë°©ë²• 1: Git ì‚¬ìš©**
```bash
git clone <your-repo-url>
cd <project-directory>
```

**ë°©ë²• 2: SCP ì—…ë¡œë“œ (ë¡œì»¬ì—ì„œ)**
```bash
scp -r -i your-key.pem ./workspace ubuntu@your-ec2-ip:~/
ssh -i your-key.pem ubuntu@your-ec2-ip
cd workspace
```

### 5. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# .env íŒŒì¼ ìƒì„±
cp .env.example .env

# SECRET_KEY ìƒì„±
python3 -c "import secrets; print(secrets.token_urlsafe(32))"

# .env íŒŒì¼ ìˆ˜ì •
nano .env
```

`.env` íŒŒì¼ ìˆ˜ì •:
```bash
SECRET_KEY=<ìƒì„±í•œ-í‚¤-ì—¬ê¸°ì—-ë¶™ì—¬ë„£ê¸°>
CORS_ORIGINS=http://your-ec2-ip,http://localhost:80
VITE_API_URL=http://your-ec2-ip:8000
```

### 6. ë°°í¬ ì‹¤í–‰

```bash
# ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
chmod +x deploy.sh
./deploy.sh
```

ë˜ëŠ” ìˆ˜ë™ìœ¼ë¡œ:
```bash
docker-compose -f docker-compose.prod.yml build
docker-compose -f docker-compose.prod.yml up -d
```

### 7. ì ‘ì† í™•ì¸

ë¸Œë¼ìš°ì €ì—ì„œ:
- **í”„ë¡ íŠ¸ì—”ë“œ**: `http://your-ec2-ip`
- **ë°±ì—”ë“œ API**: `http://your-ec2-ip:8000`
- **API ë¬¸ì„œ**: `http://your-ec2-ip:8000/docs`

## ğŸ”§ ê´€ë¦¬ ëª…ë ¹ì–´

### ë¡œê·¸ í™•ì¸
```bash
docker-compose -f docker-compose.prod.yml logs -f
```

### ì„œë¹„ìŠ¤ ì¬ì‹œì‘
```bash
docker-compose -f docker-compose.prod.yml restart
```

### ì„œë¹„ìŠ¤ ì¤‘ì§€
```bash
docker-compose -f docker-compose.prod.yml down
```

### ìƒíƒœ í™•ì¸
```bash
docker-compose -f docker-compose.prod.yml ps
```

## ğŸ› ë¬¸ì œ í•´ê²°

### í¬íŠ¸ê°€ ì—´ë¦¬ì§€ ì•ŠìŒ
```bash
sudo ufw allow 80/tcp
sudo ufw allow 8000/tcp
sudo ufw enable
```

### ì»¨í…Œì´ë„ˆê°€ ì‹œì‘ë˜ì§€ ì•ŠìŒ
```bash
# ë¡œê·¸ í™•ì¸
docker-compose -f docker-compose.prod.yml logs

# ì¬ë¹Œë“œ
docker-compose -f docker-compose.prod.yml build --no-cache
docker-compose -f docker-compose.prod.yml up -d
```

### ë©”ëª¨ë¦¬ ë¶€ì¡±
```bash
docker system prune -a
```

## ğŸ“š ë” ìì„¸í•œ ì •ë³´

- [ìƒì„¸ ë°°í¬ ê°€ì´ë“œ](./DEPLOYMENT.md)
- [ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ](./QUICK_START.md)

